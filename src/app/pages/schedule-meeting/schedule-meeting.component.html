<section>
    <h1>Schedule a meeting</h1>
    <div>
        <!-- <div *ngFor="let room of rooms">
            {{room.title}}
            {{room.capacity}}
        </div> -->
        <nz-steps nzType="navigation" [nzCurrent]="current" (nzIndexChange)="onIndexChange($event)">
            <nz-step nzTitle="Date & time" [nzStatus]="getStatus(0)"></nz-step>
            <nz-step nzTitle="Room selection" [nzStatus]="getStatus(1)"></nz-step>
            <nz-step nzTitle="Detail" [nzStatus]="getStatus(2)"></nz-step>
            <nz-step nzTitle="Summary" [nzStatus]="getStatus(3)"></nz-step>
        </nz-steps>

        <div nz-flex [nzVertical]="false" class="meeting steps-content">
            <div class="flex-item meeting__detail-block" [ngSwitch]="current">
                <ng-container *ngSwitchCase="0">
                    <nz-calendar nzFullscreen="false" [(ngModel)]="selectedDate"
                        (nzSelectChange)="selectChange($event)"></nz-calendar>
                    <form nz-form [formGroup]="timeForm" [nzLayout]="'inline'">
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="email">Start time</nz-form-label>
                            <nz-form-control nzErrorTip="Please input meeting start time!">
                                <!-- <nz-input-group nzPrefixIcon="user"> -->
                                <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" nz-input
                                    formControlName="startTime"></nz-time-picker>
                                <!-- </nz-input-group> -->
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="email">End time</nz-form-label>

                            <nz-form-control nzErrorTip="Please input meeting end time!">
                                <!-- <nz-input-group nzPrefixIcon="user"> -->
                                <nz-time-picker [nzUse12Hours]="true" nzFormat="h:mm a" nz-input
                                    formControlName="endTime"></nz-time-picker>
                                <!-- </nz-input-group> -->
                            </nz-form-control>
                        </nz-form-item>
                    </form>
                </ng-container>
                <ng-container *ngSwitchCase="1">
                    Available meeting rooms
                    <form nz-form [formGroup]="roomForm">
                        <nz-radio-group  formControlName="id" nzButtonStyle="solid">
                            <label nz-radio-button [nzValue]="room.id" [style.height]="'auto'" *ngFor="let room of rooms">
                                {{room.title}} <br />
                                <span nz-icon nzType="team" nzTheme="outline"></span> {{room.capacity}}<br />
                                <!-- Amenities :  -->
                                <span nz-icon nzType="sound" nzTheme="outline"></span>
                                <span nz-icon nzType="wifi" nzTheme="outline"></span>
                                <span nz-icon nzType="video-camera" nzTheme="outline"></span>
                                <!-- Amenities : {{room.amenities}} -->
                            </label>
                        </nz-radio-group>
                    </form>
                </ng-container>
                <ng-container *ngSwitchCase="2">
                    <form nz-form [formGroup]="validateForm" nzLayout="vertical" class="login-form" (ngSubmit)="submitForm()">
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="title">Title</nz-form-label>
                            <nz-form-control nzErrorTip="Please input meeting title!">
                                <nz-input-group nzPrefixIcon="user">
                                    <input type="text" nz-input formControlName="title" placeholder="Title" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="attendees">Attendees</nz-form-label>
                            <nz-form-control nzErrorTip="Please input meeting attendees!">
                                <nz-input-group nzPrefixIcon="lock">
                                    <input type="text" nz-input formControlName="attendees" placeholder="Attendees" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="description">Description</nz-form-label>
                            <nz-form-control nzErrorTip="Please input meeting description!">
                                <nz-input-group nzPrefixIcon="lock">
                                    <textarea type="text" nz-input formControlName="description"
                                        placeholder="Description"></textarea>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </form>
                </ng-container>
                <ng-container *ngSwitchCase="3">
                    <nz-descriptions nzTitle="Meeting summary" nzLayout="horizontal" [nzColumn]="1">
                        <nz-descriptions-item nzTitle="Date">{{timeForm.value.date |
                            dateTimeFormat}}</nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Time">{{timeForm.value.startTime | dateTimeFormat:'time'}} -
                            {{timeForm.value.endTime | dateTimeFormat:'time'}}</nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Room">{{selectedRoom.title}}</nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Title">{{validateForm.value.title}}</nz-descriptions-item>
                        <nz-descriptions-item
                            nzTitle="Attendees">{{validateForm.value.attendees}}</nz-descriptions-item>
                        <nz-descriptions-item
                            nzTitle="Description">{{validateForm.value.description}}</nz-descriptions-item>
                    </nz-descriptions>
                </ng-container>
            </div>
        </div>
        <div class="steps-action">
            <button nz-button nzType="default" (click)="pre()" *ngIf="current > 0">
                <span>Previous</span>
            </button>
            <button nz-button nzType="default" (click)="next()" *ngIf="current < 3">
                <span>Next</span>
            </button>
            <button nz-button nzType="primary" (click)="done()" *ngIf="current === 3">
                <span>Confirm</span>
            </button>
        </div>

    </div>
</section>